<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the incidence package • incidence2</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the incidence package">
<meta property="og:description" content="incidence2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">incidence2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Using the incidence package</li>
    <li>
      <a href="../articles/Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/handling_incidence_objects.html">Handling incidence objects</a>
    </li>
    <li>
      <a href="../articles/customizing_incidence_plots.html">Customizing incidence plots</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/reconhub/incidence2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Introduction_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="Introduction_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="Introduction_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to the incidence package</h1>
                        <h4 class="author">Tim Taylor, Thibaut Jombart and Zhina N. Kamvar</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/reconhub/incidence2/blob/master/vignettes/Introduction.Rmd"><code>vignettes/Introduction.Rmd</code></a></small>
      <div class="hidden name"><code>Introduction.Rmd</code></div>

    </div>

    
    
<p><em>incidence</em> implements functions and classes to compute, handle and visualise incidences from linelist data. This vignette provides an introduction to current features and is more extensive than the overview provided in README.md.</p>
<div id="installing-the-package" class="section level1">
<h1 class="hasAnchor">
<a href="#installing-the-package" class="anchor"></a>Installing the package</h1>
<p>You can install the current version of the package from <a href="https://cran.r-project.org/">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"incidence2"</span><span class="op">)</span></code></pre></div>
<p>The development version can be installed from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org">remotes</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"reconhub/incidence2"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div id="what-does-it-do" class="section level1">
<h1 class="hasAnchor">
<a href="#what-does-it-do" class="anchor"></a>What does it do?</h1>
<p>The main features of the package include:</p>
<ul>
<li><p><strong><code><a href="../reference/incidence.html">incidence()</a></code></strong>: compute incidence from both linelist and pre-aggregated datasets; any fixed time interval can be used; the returned object is a tibble subclass called <em>incidence2</em>.</p></li>
<li><p>plotting functions <strong><code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code></strong> and <strong><code><a href="../reference/plot.incidence2.html">facet_plot()</a></code></strong>: these functions return customised ggplot2 plots of <em>incidence2</em> objects (see <strong><code><a href="../reference/plot.incidence2.html">plot.incidence2()</a></code></strong> for details).</p></li>
<li><p>Compatible with <a href="https://dplyr.tidyverse.org/">dplyr</a> for data manipulation. (see <code><a href="../articles/handling_incidence_objects.html">vignette("handling_incidence_objects")</a></code> for more details).</p></li>
<li><p><strong><code><a href="../reference/regroup.html">regroup()</a></code></strong>: regroup incidence from different groups into one global incidence time series.</p></li>
<li><p><strong><code><a href="../reference/cumulate.html">cumulate()</a></code></strong>: computes cumulative incidence over time from an <code><a href="../reference/incidence.html">incidence()</a></code> object.</p></li>
<li><p><strong><code><a href="https://rdrr.io/r/base/print.html">print()</a></code></strong> and <strong><code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code></strong> functions.</p></li>
<li>
<p>Conversion functions:</p>
<ul>
<li><p><strong><code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code></strong>: converts an <code><a href="../reference/incidence.html">incidence()</a></code> object into a <code>data.frame</code>.</p></li>
<li><p><strong><code><a href="../reference/as_tibble.html">as_tibble()</a></code></strong>: converts an <code><a href="../reference/incidence.html">incidence()</a></code> object into a <code>tibble</code>.</p></li>
</ul>
</li>
<li><p>Accessor functions: <strong><code><a href="../reference/accessors.html">get_counts_name()</a></code></strong>, <strong><code><a href="../reference/accessors.html">get_dates_name()</a></code></strong>, <strong><code><a href="../reference/accessors.html">get_dates()</a></code></strong>, <strong><code><a href="../reference/accessors.html">get_group_names()</a></code></strong>, <strong><code><a href="../reference/accessors.html">get_interval()</a></code></strong>, <strong><code><a href="../reference/accessors.html">get_timespan()</a></code></strong> and <strong><code><a href="../reference/accessors.html">get_n()</a></code></strong>.</p></li>
</ul>
</div>
<div id="worked-example-simulated-ebola-outbreak" class="section level1">
<h1 class="hasAnchor">
<a href="#worked-example-simulated-ebola-outbreak" class="anchor"></a>Worked example: simulated Ebola outbreak</h1>
<p>This example uses the simulated Ebola Virus Disease (EVD) outbreak from the package <a href="https://github.com/reconhub/outbreaks"><em>outbreaks</em></a>. We will compute incidence for various time steps and illustrate how to easily plot the data.</p>
<div id="loading-the-data" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-the-data" class="anchor"></a>Loading the data</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/reconhub/outbreaks">outbreaks</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/reconhub/incidence2">incidence2</a></span><span class="op">)</span>

<span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">ebola_sim_clean</span><span class="op">$</span><span class="va">linelist</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>
<span class="co">#&gt; [1] "data.frame"</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    5829 obs. of  11 variables:</span>
<span class="co">#&gt;  $ case_id                : chr  "d1fafd" "53371b" "f5c3d8" "6c286a" ...</span>
<span class="co">#&gt;  $ generation             : int  0 1 1 2 2 0 3 3 2 3 ...</span>
<span class="co">#&gt;  $ date_of_infection      : Date, format: NA "2014-04-09" ...</span>
<span class="co">#&gt;  $ date_of_onset          : Date, format: "2014-04-07" "2014-04-15" ...</span>
<span class="co">#&gt;  $ date_of_hospitalisation: Date, format: "2014-04-17" "2014-04-20" ...</span>
<span class="co">#&gt;  $ date_of_outcome        : Date, format: "2014-04-19" NA ...</span>
<span class="co">#&gt;  $ outcome                : Factor w/ 2 levels "Death","Recover": NA NA 2 1 2 NA 2 1 2 1 ...</span>
<span class="co">#&gt;  $ gender                 : Factor w/ 2 levels "f","m": 1 2 1 1 1 1 1 1 2 2 ...</span>
<span class="co">#&gt;  $ hospital               : Factor w/ 5 levels "Connaught Hospital",..: 2 1 3 NA 3 NA 1 4 3 5 ...</span>
<span class="co">#&gt;  $ lon                    : num  -13.2 -13.2 -13.2 -13.2 -13.2 ...</span>
<span class="co">#&gt;  $ lat                    : num  8.47 8.46 8.48 8.46 8.45 ...</span></code></pre></div>
</div>
<div id="computing-and-plotting-incidence" class="section level2">
<h2 class="hasAnchor">
<a href="#computing-and-plotting-incidence" class="anchor"></a>Computing and plotting incidence</h2>
<p>To compute daily incidence we must pass observation data in the form of a <em>data.frame</em> or <em>tibble</em> to the <code><a href="../reference/incidence.html">incidence()</a></code>. We must also pass the name of a date variable in the data that we can use to index the input:</p>
<p>We compute the daily incidence:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">dat</span>, date_index <span class="op">=</span> <span class="va">date_of_onset</span><span class="op">)</span>
<span class="va">i</span>
<span class="co">#&gt; An incidence2 object: 389 x 2</span>
<span class="co">#&gt; [5829 cases from days 2014-04-07 to 2015-04-30]</span>
<span class="co">#&gt; [interval: 1 day]</span>
<span class="co">#&gt; [cumulative: FALSE]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date       count</span>
<span class="co">#&gt;    &lt;date&gt;     &lt;int&gt;</span>
<span class="co">#&gt;  1 2014-04-07     1</span>
<span class="co">#&gt;  2 2014-04-08     0</span>
<span class="co">#&gt;  3 2014-04-09     0</span>
<span class="co">#&gt;  4 2014-04-10     0</span>
<span class="co">#&gt;  5 2014-04-11     0</span>
<span class="co">#&gt;  6 2014-04-12     0</span>
<span class="co">#&gt;  7 2014-04-13     0</span>
<span class="co">#&gt;  8 2014-04-14     0</span>
<span class="co">#&gt;  9 2014-04-15     1</span>
<span class="co">#&gt; 10 2014-04-16     0</span>
<span class="co">#&gt; # … with 379 more rows</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span>
<span class="co">#&gt; An incidence2 object: 389 x 2</span>
<span class="co">#&gt; 5829 cases from days 2014-04-07 to 2015-04-30</span>
<span class="co">#&gt; interval: 1 day</span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; timespan: 389 days</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span></code></pre></div>
<p><img src="Introduction_files/figure-html/incid1-1.png" width="672" style="display: block; margin: auto;"></p>
<p>The daily incidence is quite noisy, but we can easily compute other incidence using larger time intervals:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># weekly, starting on Monday (ISO week, default)</span>
<span class="va">i_weekly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">dat</span>, date_index <span class="op">=</span> <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="st">"1 week"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">i_weekly</span><span class="op">)</span></code></pre></div>
<p><img src="Introduction_files/figure-html/interv-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># bi-weekly, starting on Saturday</span>
<span class="va">i_biweekly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">dat</span>, date_index <span class="op">=</span> <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="st">"2 saturday weeks"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">i_biweekly</span>, color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></code></pre></div>
<p><img src="Introduction_files/figure-html/interv-2.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co">## monthly</span>
<span class="va">i_monthly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">dat</span>, date_index <span class="op">=</span> <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="st">"1 month"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">i_monthly</span>, color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></code></pre></div>
<p><img src="Introduction_files/figure-html/interv-3.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="grouping" class="section level2">
<h2 class="hasAnchor">
<a href="#grouping" class="anchor"></a>Grouping</h2>
<p><code><a href="../reference/incidence.html">incidence()</a></code> can also aggregate incidence by specified groups using the <code>groups</code> argument. For instance, we can compute incidence by gender and plot with both the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function for a single plot and the <code><a href="../reference/plot.incidence2.html">facet_plot()</a></code> function for a multi-faceted plot across groups:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">i_weekly_sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">dat</span>, date_index <span class="op">=</span> <span class="va">date_of_onset</span>,
                     interval <span class="op">=</span> <span class="st">"1 week"</span>, groups <span class="op">=</span> <span class="va">gender</span><span class="op">)</span>
<span class="va">i_weekly_sex</span>
<span class="co">#&gt; An incidence2 object: 112 x 4</span>
<span class="co">#&gt; [5829 cases from days 2014-04-07 to 2015-04-27]</span>
<span class="co">#&gt; [interval: 1 week]</span>
<span class="co">#&gt; [cumulative: FALSE]</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    bin_date   week_group gender count</span>
<span class="co">#&gt;    &lt;date&gt;     &lt;aweek&gt;    &lt;fct&gt;  &lt;int&gt;</span>
<span class="co">#&gt;  1 2014-04-07 2014-W15   f          1</span>
<span class="co">#&gt;  2 2014-04-07 2014-W15   m          0</span>
<span class="co">#&gt;  3 2014-04-14 2014-W16   f          0</span>
<span class="co">#&gt;  4 2014-04-14 2014-W16   m          1</span>
<span class="co">#&gt;  5 2014-04-21 2014-W17   f          4</span>
<span class="co">#&gt;  6 2014-04-21 2014-W17   m          1</span>
<span class="co">#&gt;  7 2014-04-28 2014-W18   f          4</span>
<span class="co">#&gt;  8 2014-04-28 2014-W18   m          0</span>
<span class="co">#&gt;  9 2014-05-05 2014-W19   f          9</span>
<span class="co">#&gt; 10 2014-05-05 2014-W19   m          3</span>
<span class="co">#&gt; # … with 102 more rows</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">i_weekly_sex</span><span class="op">)</span>
<span class="co">#&gt; An incidence2 object: 112 x 4</span>
<span class="co">#&gt; 5829 cases from days 2014-04-07 to 2015-04-27</span>
<span class="co">#&gt; interval: 1 week</span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; timespan: 386 days</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; 1 grouped variable</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   gender count</span>
<span class="co">#&gt;   &lt;fct&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1 f       2934</span>
<span class="co">#&gt; 2 m       2895</span>

<span class="co"># A singular plot</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">i_weekly_sex</span>, fill <span class="op">=</span> <span class="va">gender</span><span class="op">)</span></code></pre></div>
<p><img src="Introduction_files/figure-html/gender-1.png" width="672" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># a multi-facet plot</span>
<span class="fu"><a href="../reference/plot.incidence2.html">facet_plot</a></span><span class="op">(</span><span class="va">i_weekly_sex</span>, fill <span class="op">=</span> <span class="va">gender</span>, color <span class="op">=</span> <span class="st">"white"</span>, <span class="op">)</span></code></pre></div>
<p><img src="Introduction_files/figure-html/gender-2.png" width="672" style="display: block; margin: auto;"></p>
<p>There is no limit to the number of groups that we group by and this allows us to both facet and fill by different variables:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">inci</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">dat</span>, date_index <span class="op">=</span> <span class="va">date_of_onset</span>,
                     interval <span class="op">=</span> <span class="st">"1 week"</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">outcome</span>, <span class="va">hospital</span>, <span class="va">gender</span><span class="op">)</span><span class="op">)</span>
<span class="va">inci</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/plot.incidence2.html">facet_plot</a></span><span class="op">(</span>facets <span class="op">=</span> <span class="va">hospital</span>, fill <span class="op">=</span> <span class="va">outcome</span>, n_breaks <span class="op">=</span> <span class="fl">4</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; plot() can only stack/dodge by one variable.</span>
<span class="co">#&gt; For multi-facet plotting try facet_plot()</span></code></pre></div>
<p><img src="Introduction_files/figure-html/outcome_hospital-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tim Taylor, Thibaut Jombart, Zhian N. Kamvar, Rich FitzJohn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
