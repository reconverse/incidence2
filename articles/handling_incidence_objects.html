<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Handling incidence objects • incidence2</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Handling incidence objects">
<meta property="og:description" content="incidence2">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">incidence2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Using the incidence2 package</li>
    <li>
      <a href="../articles/Introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/handling_incidence_objects.html">Handling incidence objects</a>
    </li>
    <li>
      <a href="../articles/customizing_incidence_plots.html">Customizing incidence plots</a>
    </li>
    <li>
      <a href="../articles/Alternative_date_groupings.html">Alternative date groupings</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/reconverse/incidence2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="handling_incidence_objects_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Handling incidence objects</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/reconverse/incidence2/blob/master/vignettes/handling_incidence_objects.Rmd"><code>vignettes/handling_incidence_objects.Rmd</code></a></small>
      <div class="hidden name"><code>handling_incidence_objects.Rmd</code></div>

    </div>

    
    
<p><code><a href="../reference/incidence.html">incidence()</a></code> objects are easy to work with, and we providing helper functions for both manipulating and accessing the underlying data and attributes. As <code><a href="../reference/incidence.html">incidence()</a></code> objects are subclasses of <a href="https://tibble.tidyverse.org/">tibbles</a> they also have good integration with <a href="https://www.tidyverse.org/">tidyverse</a> verbs.</p>
<div id="modifying-incidence-objects" class="section level2">
<h2 class="hasAnchor">
<a href="#modifying-incidence-objects" class="anchor"></a>Modifying incidence objects</h2>
<div id="regroup" class="section level3">
<h3 class="hasAnchor">
<a href="#regroup" class="anchor"></a><code>regroup()</code>
</h3>
<p>Sometimes you may find you’ve created a grouped incidence but now want to change the internal grouping. Assuming you are after a subset of the grouping already generated, then you can use to <code><a href="../reference/regroup.html">regroup()</a></code> function to get the desired aggregation:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/reconhub/outbreaks">outbreaks</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/reconverse/incidence2">incidence2</a></span><span class="op">)</span>

<span class="co"># load data</span>
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">ebola_sim_clean</span><span class="op">$</span><span class="va">linelist</span>

<span class="co"># generate the incidence object with 3 groups</span>
<span class="va">inci</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">date_of_onset</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">gender</span>, <span class="va">hospital</span>, <span class="va">outcome</span><span class="op">)</span>, interval <span class="op">=</span> <span class="st">"week"</span><span class="op">)</span>
<span class="va">inci</span>
<span class="co">#&gt; An incidence object: 1,448 x 5</span>
<span class="co">#&gt; date range: [2014-W15] to [2015-W18]</span>
<span class="co">#&gt; cases: 5829</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date_index gender hospital                                     outcome count</span>
<span class="co">#&gt;        &lt;yrwk&gt; &lt;fct&gt;  &lt;fct&gt;                                        &lt;fct&gt;   &lt;int&gt;</span>
<span class="co">#&gt;  1   2014-W15 f      Military Hospital                            &lt;NA&gt;        1</span>
<span class="co">#&gt;  2   2014-W16 m      Connaught Hospital                           &lt;NA&gt;        1</span>
<span class="co">#&gt;  3   2014-W17 f      &lt;NA&gt;                                         &lt;NA&gt;        1</span>
<span class="co">#&gt;  4   2014-W17 f      &lt;NA&gt;                                         Death       1</span>
<span class="co">#&gt;  5   2014-W17 f      other                                        Recover     2</span>
<span class="co">#&gt;  6   2014-W17 m      other                                        Recover     1</span>
<span class="co">#&gt;  7   2014-W18 f      &lt;NA&gt;                                         Recover     1</span>
<span class="co">#&gt;  8   2014-W18 f      Connaught Hospital                           Recover     1</span>
<span class="co">#&gt;  9   2014-W18 f      Princess Christian Maternity Hospital (PCMH) Death       1</span>
<span class="co">#&gt; 10   2014-W18 f      Rokupa Hospital                              Recover     1</span>
<span class="co">#&gt; # … with 1,438 more rows</span>

<span class="co"># regroup to just two groups</span>
<span class="va">inci</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/regroup.html">regroup</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">gender</span>, <span class="va">outcome</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 320 x 4</span>
<span class="co">#&gt; date range: [2014-W15] to [2015-W18]</span>
<span class="co">#&gt; cases: 5829</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date_index gender outcome count</span>
<span class="co">#&gt;        &lt;yrwk&gt; &lt;fct&gt;  &lt;fct&gt;   &lt;int&gt;</span>
<span class="co">#&gt;  1   2014-W15 f      &lt;NA&gt;        1</span>
<span class="co">#&gt;  2   2014-W16 m      &lt;NA&gt;        1</span>
<span class="co">#&gt;  3   2014-W17 f      &lt;NA&gt;        1</span>
<span class="co">#&gt;  4   2014-W17 f      Death       1</span>
<span class="co">#&gt;  5   2014-W17 f      Recover     2</span>
<span class="co">#&gt;  6   2014-W17 m      Recover     1</span>
<span class="co">#&gt;  7   2014-W18 f      Death       1</span>
<span class="co">#&gt;  8   2014-W18 f      Recover     3</span>
<span class="co">#&gt;  9   2014-W19 f      &lt;NA&gt;        4</span>
<span class="co">#&gt; 10   2014-W19 f      Death       2</span>
<span class="co">#&gt; # … with 310 more rows</span>

<span class="co"># drop all groups</span>
<span class="va">inci</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/regroup.html">regroup</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 56 x 2</span>
<span class="co">#&gt; date range: [2014-W15] to [2015-W18]</span>
<span class="co">#&gt; cases: 5829</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date_index count</span>
<span class="co">#&gt;        &lt;yrwk&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1   2014-W15     1</span>
<span class="co">#&gt;  2   2014-W16     1</span>
<span class="co">#&gt;  3   2014-W17     5</span>
<span class="co">#&gt;  4   2014-W18     4</span>
<span class="co">#&gt;  5   2014-W19    12</span>
<span class="co">#&gt;  6   2014-W20    17</span>
<span class="co">#&gt;  7   2014-W21    15</span>
<span class="co">#&gt;  8   2014-W22    19</span>
<span class="co">#&gt;  9   2014-W23    23</span>
<span class="co">#&gt; 10   2014-W24    21</span>
<span class="co">#&gt; # … with 46 more rows</span></code></pre></div>
</div>
<div id="cumulate" class="section level3">
<h3 class="hasAnchor">
<a href="#cumulate" class="anchor"></a>cumulate</h3>
<p>We also provide a helper function, <code>cumulate</code>() to easily generate cumulative incidences:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">inci</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/regroup.html">regroup</a></span><span class="op">(</span><span class="va">hospital</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/cumulate.html">cumulate</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/plot.incidence2.html">facet_plot</a></span><span class="op">(</span>n.breaks <span class="op">=</span> <span class="fl">4</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<p><img src="handling_incidence_objects_files/figure-html/cumulate-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="keep_first-and-keep_last" class="section level3">
<h3 class="hasAnchor">
<a href="#keep_first-and-keep_last" class="anchor"></a><code>keep_first()</code> and <code>keep_last()</code>
</h3>
<p>Once your data is grouped by date, you may want to select the first or last few entries based on a particular date grouping using <code><a href="../reference/keep.html">keep_first()</a></code> and <code><a href="../reference/keep.html">keep_last()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">inci</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/keep.html">keep_first</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 6 x 5</span>
<span class="co">#&gt; date range: [2014-W15] to [2014-W17]</span>
<span class="co">#&gt; cases: 7</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   date_index gender hospital           outcome count</span>
<span class="co">#&gt;       &lt;yrwk&gt; &lt;fct&gt;  &lt;fct&gt;              &lt;fct&gt;   &lt;int&gt;</span>
<span class="co">#&gt; 1   2014-W15 f      Military Hospital  &lt;NA&gt;        1</span>
<span class="co">#&gt; 2   2014-W16 m      Connaught Hospital &lt;NA&gt;        1</span>
<span class="co">#&gt; 3   2014-W17 f      &lt;NA&gt;               &lt;NA&gt;        1</span>
<span class="co">#&gt; 4   2014-W17 f      &lt;NA&gt;               Death       1</span>
<span class="co">#&gt; 5   2014-W17 f      other              Recover     2</span>
<span class="co">#&gt; 6   2014-W17 m      other              Recover     1</span>
<span class="va">inci</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/keep.html">keep_last</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 63 x 5</span>
<span class="co">#&gt; date range: [2015-W16] to [2015-W18]</span>
<span class="co">#&gt; cases: 103</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date_index gender hospital           outcome count</span>
<span class="co">#&gt;        &lt;yrwk&gt; &lt;fct&gt;  &lt;fct&gt;              &lt;fct&gt;   &lt;int&gt;</span>
<span class="co">#&gt;  1   2015-W16 f      &lt;NA&gt;               &lt;NA&gt;        1</span>
<span class="co">#&gt;  2   2015-W16 f      &lt;NA&gt;               Death       7</span>
<span class="co">#&gt;  3   2015-W16 f      &lt;NA&gt;               Recover     1</span>
<span class="co">#&gt;  4   2015-W16 f      Connaught Hospital &lt;NA&gt;        1</span>
<span class="co">#&gt;  5   2015-W16 f      Connaught Hospital Death       5</span>
<span class="co">#&gt;  6   2015-W16 f      Connaught Hospital Recover     3</span>
<span class="co">#&gt;  7   2015-W16 f      Military Hospital  Recover     1</span>
<span class="co">#&gt;  8   2015-W16 f      other              &lt;NA&gt;        1</span>
<span class="co">#&gt;  9   2015-W16 f      other              Death       2</span>
<span class="co">#&gt; 10   2015-W16 f      other              Recover     1</span>
<span class="co">#&gt; # … with 53 more rows</span></code></pre></div>
</div>
<div id="tidyverse-compatibility" class="section level3">
<h3 class="hasAnchor">
<a href="#tidyverse-compatibility" class="anchor"></a>Tidyverse compatibility</h3>
<p>incidence2 has been written with <em>tidyverse</em> compatibility (in particular <a href="https://dplyr.tidyverse.org/">dplyr</a>) at the forefront of the design choices we have made. By this we mean that if an operation from dplyr is applied to an incidence object then as long as the invariants of the object are preserved (i.e. groups, interval and uniqueness of rows) then the object returned will be an incidence object. If the invariants are not preserved then a tibble will be returned instead.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>

<span class="co"># create incidence object</span>
<span class="va">inci</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/incidence.html">incidence</a></span><span class="op">(</span><span class="va">dat</span>, <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="st">"week"</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">hospital</span>, <span class="va">gender</span><span class="op">)</span><span class="op">)</span>

<span class="co"># filtering preserves class</span>
<span class="va">inci</span> <span class="op">%&gt;%</span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">gender</span> <span class="op">==</span> <span class="st">"f"</span>, <span class="va">hospital</span> <span class="op">==</span> <span class="st">"Rokupa Hospital"</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 48 x 4</span>
<span class="co">#&gt; date range: [2014-W18] to [2015-W18]</span>
<span class="co">#&gt; cases: 210</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date_index hospital        gender count</span>
<span class="co">#&gt;        &lt;yrwk&gt; &lt;fct&gt;           &lt;fct&gt;  &lt;int&gt;</span>
<span class="co">#&gt;  1   2014-W18 Rokupa Hospital f          1</span>
<span class="co">#&gt;  2   2014-W20 Rokupa Hospital f          1</span>
<span class="co">#&gt;  3   2014-W22 Rokupa Hospital f          1</span>
<span class="co">#&gt;  4   2014-W23 Rokupa Hospital f          1</span>
<span class="co">#&gt;  5   2014-W25 Rokupa Hospital f          1</span>
<span class="co">#&gt;  6   2014-W27 Rokupa Hospital f          1</span>
<span class="co">#&gt;  7   2014-W28 Rokupa Hospital f          4</span>
<span class="co">#&gt;  8   2014-W29 Rokupa Hospital f          2</span>
<span class="co">#&gt;  9   2014-W30 Rokupa Hospital f          1</span>
<span class="co">#&gt; 10   2014-W31 Rokupa Hospital f          1</span>
<span class="co">#&gt; # … with 38 more rows</span>

<span class="co"># slice operations preserve class</span>
<span class="va">inci</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 10 x 4</span>
<span class="co">#&gt; date range: [2014-W22] to [2015-W17]</span>
<span class="co">#&gt; cases: 135</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date_index hospital                                     gender count</span>
<span class="co">#&gt;        &lt;yrwk&gt; &lt;fct&gt;                                        &lt;fct&gt;  &lt;int&gt;</span>
<span class="co">#&gt;  1   2014-W22 &lt;NA&gt;                                         f          2</span>
<span class="co">#&gt;  2   2014-W43 &lt;NA&gt;                                         f         35</span>
<span class="co">#&gt;  3   2015-W17 Rokupa Hospital                              f          3</span>
<span class="co">#&gt;  4   2015-W07 other                                        f          5</span>
<span class="co">#&gt;  5   2015-W01 Princess Christian Maternity Hospital (PCMH) m          6</span>
<span class="co">#&gt;  6   2014-W48 Connaught Hospital                           m         33</span>
<span class="co">#&gt;  7   2014-W32 &lt;NA&gt;                                         m         10</span>
<span class="co">#&gt;  8   2014-W45 other                                        m         15</span>
<span class="co">#&gt;  9   2015-W01 Military Hospital                            m         11</span>
<span class="co">#&gt; 10   2014-W49 &lt;NA&gt;                                         f         15</span>

<span class="va">inci</span> <span class="op">%&gt;%</span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 3 x 4</span>
<span class="co">#&gt; date range: [2014-W15] to [2014-W19]</span>
<span class="co">#&gt; cases: 3</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   date_index hospital          gender count</span>
<span class="co">#&gt;       &lt;yrwk&gt; &lt;fct&gt;             &lt;fct&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1   2014-W15 Military Hospital f          1</span>
<span class="co">#&gt; 2   2014-W17 other             m          1</span>
<span class="co">#&gt; 3   2014-W19 &lt;NA&gt;              f          1</span>

<span class="co"># mutate preserve class</span>
<span class="va">inci</span> <span class="op">%&gt;%</span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>future <span class="op">=</span> <span class="va">date_index</span> <span class="op">+</span> <span class="fl">999</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 601 x 5</span>
<span class="co">#&gt; date range: [2014-W15] to [2015-W18]</span>
<span class="co">#&gt; cases: 5829</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date_index hospital                                     gender count   future</span>
<span class="co">#&gt;        &lt;yrwk&gt; &lt;fct&gt;                                        &lt;fct&gt;  &lt;int&gt;   &lt;yrwk&gt;</span>
<span class="co">#&gt;  1   2014-W15 Military Hospital                            f          1 2033-W22</span>
<span class="co">#&gt;  2   2014-W16 Connaught Hospital                           m          1 2033-W23</span>
<span class="co">#&gt;  3   2014-W17 &lt;NA&gt;                                         f          2 2033-W24</span>
<span class="co">#&gt;  4   2014-W17 other                                        f          2 2033-W24</span>
<span class="co">#&gt;  5   2014-W17 other                                        m          1 2033-W24</span>
<span class="co">#&gt;  6   2014-W18 &lt;NA&gt;                                         f          1 2033-W25</span>
<span class="co">#&gt;  7   2014-W18 Connaught Hospital                           f          1 2033-W25</span>
<span class="co">#&gt;  8   2014-W18 Princess Christian Maternity Hospital (PCMH) f          1 2033-W25</span>
<span class="co">#&gt;  9   2014-W18 Rokupa Hospital                              f          1 2033-W25</span>
<span class="co">#&gt; 10   2014-W19 &lt;NA&gt;                                         f          1 2033-W26</span>
<span class="co">#&gt; # … with 591 more rows</span>

<span class="co"># rename preserve class</span>
<span class="va">inci</span> <span class="op">%&gt;%</span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>left_bin <span class="op">=</span> <span class="va">date_index</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 601 x 4</span>
<span class="co">#&gt; date range: [2014-W15] to [2015-W18]</span>
<span class="co">#&gt; cases: 5829</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    left_bin hospital                                     gender count</span>
<span class="co">#&gt;      &lt;yrwk&gt; &lt;fct&gt;                                        &lt;fct&gt;  &lt;int&gt;</span>
<span class="co">#&gt;  1 2014-W15 Military Hospital                            f          1</span>
<span class="co">#&gt;  2 2014-W16 Connaught Hospital                           m          1</span>
<span class="co">#&gt;  3 2014-W17 &lt;NA&gt;                                         f          2</span>
<span class="co">#&gt;  4 2014-W17 other                                        f          2</span>
<span class="co">#&gt;  5 2014-W17 other                                        m          1</span>
<span class="co">#&gt;  6 2014-W18 &lt;NA&gt;                                         f          1</span>
<span class="co">#&gt;  7 2014-W18 Connaught Hospital                           f          1</span>
<span class="co">#&gt;  8 2014-W18 Princess Christian Maternity Hospital (PCMH) f          1</span>
<span class="co">#&gt;  9 2014-W18 Rokupa Hospital                              f          1</span>
<span class="co">#&gt; 10 2014-W19 &lt;NA&gt;                                         f          1</span>
<span class="co">#&gt; # … with 591 more rows</span>

<span class="co"># select returns a tibble unless all date, count and group variables are preserved</span>
<span class="va">inci</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 601 × 3</span>
<span class="co">#&gt;    hospital                                     gender count</span>
<span class="co">#&gt;    &lt;fct&gt;                                        &lt;fct&gt;  &lt;int&gt;</span>
<span class="co">#&gt;  1 Military Hospital                            f          1</span>
<span class="co">#&gt;  2 Connaught Hospital                           m          1</span>
<span class="co">#&gt;  3 &lt;NA&gt;                                         f          2</span>
<span class="co">#&gt;  4 other                                        f          2</span>
<span class="co">#&gt;  5 other                                        m          1</span>
<span class="co">#&gt;  6 &lt;NA&gt;                                         f          1</span>
<span class="co">#&gt;  7 Connaught Hospital                           f          1</span>
<span class="co">#&gt;  8 Princess Christian Maternity Hospital (PCMH) f          1</span>
<span class="co">#&gt;  9 Rokupa Hospital                              f          1</span>
<span class="co">#&gt; 10 &lt;NA&gt;                                         f          1</span>
<span class="co">#&gt; # … with 591 more rows</span>

<span class="va">inci</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; An incidence object: 601 x 4</span>
<span class="co">#&gt; date range: [2014-W15] to [2015-W18]</span>
<span class="co">#&gt; cases: 5829</span>
<span class="co">#&gt; interval: 1 (Monday) week </span>
<span class="co">#&gt; cumulative: FALSE</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;    date_index hospital                                     gender count</span>
<span class="co">#&gt;        &lt;yrwk&gt; &lt;fct&gt;                                        &lt;fct&gt;  &lt;int&gt;</span>
<span class="co">#&gt;  1   2014-W15 Military Hospital                            f          1</span>
<span class="co">#&gt;  2   2014-W16 Connaught Hospital                           m          1</span>
<span class="co">#&gt;  3   2014-W17 &lt;NA&gt;                                         f          2</span>
<span class="co">#&gt;  4   2014-W17 other                                        f          2</span>
<span class="co">#&gt;  5   2014-W17 other                                        m          1</span>
<span class="co">#&gt;  6   2014-W18 &lt;NA&gt;                                         f          1</span>
<span class="co">#&gt;  7   2014-W18 Connaught Hospital                           f          1</span>
<span class="co">#&gt;  8   2014-W18 Princess Christian Maternity Hospital (PCMH) f          1</span>
<span class="co">#&gt;  9   2014-W18 Rokupa Hospital                              f          1</span>
<span class="co">#&gt; 10   2014-W19 &lt;NA&gt;                                         f          1</span>
<span class="co">#&gt; # … with 591 more rows</span></code></pre></div>
</div>
</div>
<div id="accessing-variable-information" class="section level1">
<h1 class="hasAnchor">
<a href="#accessing-variable-information" class="anchor"></a>Accessing variable information</h1>
<p>We provide multiple accessors to easily access information about an <code><a href="../reference/incidence.html">incidence()</a></code> objects structure:</p>
<ul>
<li>
<code><a href="../reference/accessors.html">get_count_names()</a></code>, <code><a href="../reference/accessors.html">get_dates_name()</a></code>, and <code><a href="../reference/accessors.html">get_group_names()</a></code> all return character vectors of the column names corresponding to the requested variables.</li>
<li>
<code><a href="../reference/accessors.html">get_n()</a></code> returns the number of observations.</li>
<li>
<code><a href="../reference/accessors.html">get_interval()</a></code> returns the interval of the object.</li>
<li>
<code><a href="../reference/accessors.html">get_timespan()</a></code> returns the number of days the object covers.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Tim Taylor.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
