<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • incidence2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">incidence2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.2.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/incidence2.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/reconverse/incidence2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/reconverse/incidence2/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="incidence2-development-version">incidence2 (development version)<a class="anchor" aria-label="anchor" href="#incidence2-development-version"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-development-version">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-development-version"></a></h3>
<ul><li>
<code><a href="../reference/plot.incidence2.html">plot.incidence2()</a></code> now works again when applied to <incidence2> objects with a <grates_period> date_index. This was inadvertently broken in the 2.2.1 release. Thanks to <a href="https://github.com/Bisaloo" class="external-link">@Bisaloo</a> for the report (<a href="https://github.com/reconverse/incidence2/issues/110" class="external-link">#110</a>).</grates_period></incidence2></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.1" id="incidence2-221">incidence2 2.2.1<a class="anchor" aria-label="anchor" href="#incidence2-221"></a></h2><p class="text-muted">CRAN release: 2023-06-13</p>
<div class="section level3">
<h3 id="new-features-2-2-1">New features<a class="anchor" aria-label="anchor" href="#new-features-2-2-1"></a></h3>
<ul><li>
<code><a href="../reference/plot.incidence2.html">plot.incidence2()</a></code> gains arguments <code>n_breaks</code>, <code>fill</code>, <code>show_cases</code> and <code>legend</code> allowing for a wider range of plot styles. See <code><a href="../articles/incidence2.html">vignette("incidence2", package = "incidence2")</a></code> for examples.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.1.0" id="incidence2-210">incidence2 2.1.0<a class="anchor" aria-label="anchor" href="#incidence2-210"></a></h2><p class="text-muted">CRAN release: 2023-05-30</p>
<div class="section level3">
<h3 id="new-features-2-1-0">New features<a class="anchor" aria-label="anchor" href="#new-features-2-1-0"></a></h3>
<ul><li>Specifying <code>interval = "day"</code> or <code>interval = daily</code> in a call to incidence will force the resultant <code>date_index</code> variable to be a <code>&lt;Date&gt;</code>. Functionally this is a wrapper around <code><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date()</a></code> that ensures the underlying data are whole numbers and that time zones are respected.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-breaking-changes-2-1-0">(minor) breaking changes<a class="anchor" aria-label="anchor" href="#minor-breaking-changes-2-1-0"></a></h3>
<ul><li><p><code><a href="../reference/incidence.html">incidence()</a></code> will now warn if objects are created with <posixct> columns. The motivation for this is that, internally, <posixct> objects are represented as seconds since the UNIX epoch and, in our experience, this level of granularity is not normally desired for aggregation.</posixct></posixct></p></li>
<li><p>The <code>by</code> parameter of <code><a href="../reference/complete_dates.html">complete_dates()</a></code> is now defunct. This was previously passed to an underlying <code>seq</code> function when, in practice, it should always have been forced to 1 to match the precision of the underlying date_index.</p></li>
<li><p><code><a href="../reference/complete_dates.html">complete_dates()</a></code> will now error if called on an input with a <posixct> date_index. Users must now explicitly set the argument <code>allow_POSIXct = TRUE</code> to maintain old behaviour.</posixct></p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.0.0" id="incidence2-200">incidence2 2.0.0<a class="anchor" aria-label="anchor" href="#incidence2-200"></a></h2><p class="text-muted">CRAN release: 2023-03-17</p>
<p>Version 2.0.0 is a major, breaking release of incidence2. We have undertaken a significant refactor that both simplifies the underlying code base and makes the user interface more consistent and robust. Although the main changes are highlighted below, users are strongly advised to read through the accompanying documentation and vignettes.</p>
<div class="section level3">
<h3 id="breaking-changes-2-0-0">breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-0-0"></a></h3>
<ul><li><p>We no longer support NSE (e.g. tidyselect semantics) within the package. Our motivation for removing support for NSE are both the complexity it can bring to the underlying code (making long term maintenance harder) and the complexity it can cause for other users / developers who want to build on top of incidence2.</p></li>
<li><p><code><a href="../reference/incidence2-defunct.html">new_incidence()</a></code>, <code><a href="../reference/incidence2-defunct.html">validate_incidence()</a></code>, <code><a href="../reference/incidence2-defunct.html">build_incidence()</a></code>, <code><a href="../reference/incidence2-defunct.html">get_n()</a></code>, <code><a href="../reference/incidence2-defunct.html">get_interval()</a></code>, <code><a href="../reference/incidence2-defunct.html">get_timespan()</a></code> and <code><a href="../reference/incidence2-defunct.html">facet_plot()</a></code> are now defunct and will error if called.</p></li>
<li><p><code>complete_counts()</code> is now renamed <code><a href="../reference/complete_dates.html">complete_dates()</a></code> and gains two new parameters, <code>expand</code> and <code>by</code>. If <code>expand</code> is TRUE (default) then <code><a href="../reference/complete_dates.html">complete_dates()</a></code> will attempt to use <code>function(x) seq(min(x), max(x), by = by)</code> to generate a complete sequence of dates.</p></li>
<li><p>The <code><a href="../reference/incidence.html">incidence()</a></code> function now always returns output in long format with dedicated columns for the count variables and values (set by arguments <code>count_names_to</code> and <code>count_values_to</code>).</p></li>
<li><p><code><a href="../reference/incidence.html">incidence()</a></code> is now less flexible in what it can accept for the <code>interval</code> argument. For more complex date groupings users are encouraged to perform their require data transformations prior to calling <code><a href="../reference/incidence.html">incidence()</a></code>.</p></li>
<li><p>The default plotting of incidence objects as been greatly simplified. Sensible defaults have been chosen to enable a quick visual overview of incidence objects but users are advised to call ggplot2 directly for more bespoke plotting.</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.3" id="incidence2-123">incidence2 1.2.3<a class="anchor" aria-label="anchor" href="#incidence2-123"></a></h2><p class="text-muted">CRAN release: 2021-11-07</p>
<div class="section level3">
<h3 id="new-functions-1-2-3">New functions<a class="anchor" aria-label="anchor" href="#new-functions-1-2-3"></a></h3>
<ul><li>Reintroduces the <code><a href="../reference/cumulate.html">cumulate()</a></code> functionality (previously deprecated in 1.2.0).</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-1-2-3">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-1-2-3"></a></h3>
<ul><li>Default <code>fill</code> argument in <code>complete_counts()</code> is now 0 rather than NA.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.2" id="incidence2-122">incidence2 1.2.2<a class="anchor" aria-label="anchor" href="#incidence2-122"></a></h2><p class="text-muted">CRAN release: 2021-08-23</p>
<div class="section level3">
<h3 id="bug-fixes-1-2-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-2-2"></a></h3>
<ul><li>Fixes bug when input object to incidence is a data.table.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.1" id="incidence2-121">incidence2 1.2.1<a class="anchor" aria-label="anchor" href="#incidence2-121"></a></h2><p class="text-muted">CRAN release: 2021-07-14</p>
<div class="section level3">
<h3 id="bug-fixes-1-2-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-2-1"></a></h3>
<ul><li>Fixes bug in <code><a href="../reference/incidence.html">incidence()</a></code> when more than one column was given for the date_index.</li>
<li>Fixes incorrect test that did not take in to account changing time zones.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2.0" id="incidence2-120">incidence2 1.2.0<a class="anchor" aria-label="anchor" href="#incidence2-120"></a></h2><p class="text-muted">CRAN release: 2021-07-07</p>
<div class="section level3">
<h3 id="new-functions-1-2-0">New functions<a class="anchor" aria-label="anchor" href="#new-functions-1-2-0"></a></h3>
<ul><li>
<code><a href="../reference/incidence2-defunct.html">new_incidence()</a></code>: A minimal incidence constructor.</li>
<li>
<code><a href="../reference/incidence2-defunct.html">validate_incidence()</a></code>: Check for internal consistency of incidence-like object.</li>
<li>
<code><a href="../reference/incidence2-defunct.html">build_incidence()</a></code>: Allows you to construct an incidence object whilst specifying your own date grouping function.</li>
<li><code>format.incidence()</code></li>
</ul></div>
<div class="section level3">
<h3 id="deprecated-functions-1-2-0">Deprecated functions<a class="anchor" aria-label="anchor" href="#deprecated-functions-1-2-0"></a></h3>
<ul><li>
<code><a href="../reference/cumulate.html">cumulate()</a></code> will now give a deprecation error. We have removed the function to avoid users erroneously regressing against a cumulative count.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-2-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-2-0"></a></h3>
<ul><li>Fixes bug in <code><a href="../reference/incidence.html">incidence()</a></code> when dates were a character vector and the the default, daily, interval was specified.</li>
</ul></div>
<div class="section level3">
<h3 id="other-updates-1-2-0">Other updates<a class="anchor" aria-label="anchor" href="#other-updates-1-2-0"></a></h3>
<ul><li>Now uses <code>dplyr</code> to handle list based columns (e.g. record-type objects from <code>vctrs</code>). For data.frames with only atomic columns, data.table is still used.</li>
<li>Printing and summaries of incidence objects have been improved to remove duplication in the overview section.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1.0" id="incidence2-110">incidence2 1.1.0<a class="anchor" aria-label="anchor" href="#incidence2-110"></a></h2>
<ul><li>New function <code>complete_counts()</code>.</li>
<li>
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> and <code><a href="../reference/incidence2-defunct.html">facet_plot()</a></code> now have a <code>centre_dates</code> argument which can be set to <code>FALSE</code> to get histogram-esque date labels for single month, quarter and yearweek groupings.</li>
<li>Internal refactoring due to breakages changes in the upstream grates package.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="incidence2-100">incidence2 1.0.0<a class="anchor" aria-label="anchor" href="#incidence2-100"></a></h2><p class="text-muted">CRAN release: 2021-03-30</p>
<p>Due to multiple changes in the underlying representation of incidence2 objects this release may possibly break old workflows particularly those relying on the old implementations of date grouping:</p>
<ul><li>Now uses the package <a href="https://github.com/reconverse/grates" class="external-link"><code>grates</code></a> for date grouping. This introduces the s3 classes <code>yrwk</code>, <code>yrmon</code>, <code>yrqtr</code>, <code>yr</code>, <code>period</code> and <code>int_period</code> as well as associated constructors which <code>incidence</code> now builds upon. As a result of this the <a href="https://cran.r-project.org/package=aweek" class="external-link">aweek</a> dependency has been dropped.</li>
<li>Add’s <code>keep_first</code> and <code>keep_last</code> functions.</li>
<li>Construction of <code>incidence</code> objects now faster due to underlying use of data.table.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="incidence2-022">incidence2 0.2.2<a class="anchor" aria-label="anchor" href="#incidence2-022"></a></h2><p class="text-muted">CRAN release: 2020-11-12</p>
<ul><li>Fixes bug in get_interval.</li>
<li>Removes message that was displayed when incidence class dropped.</li>
<li>Refactoring of internal code to improve maintainability.</li>
<li>Tests now use the 3rd edition of testthat.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="incidence2-021">incidence2 0.2.1<a class="anchor" aria-label="anchor" href="#incidence2-021"></a></h2><p class="text-muted">CRAN release: 2020-10-16</p>
<ul><li>Fixes bug in as.data.frame.incidence2</li>
<li>Limits internal reliance on dplyr.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="incidence2-020">incidence2 0.2.0<a class="anchor" aria-label="anchor" href="#incidence2-020"></a></h2><p class="text-muted">CRAN release: 2020-09-22</p>
<ul><li>Fixes issue with monthly incidence objects when <code>show_cases = TRUE</code> (see <a href="https://github.com/reconverse/incidence2/issues/42" class="external-link">#42</a>).</li>
<li>Additional checks added for assessing whether a manipulated incidence object maintains its class.</li>
<li>Improved implementation speed.</li>
<li>NA’s now ignored in the <code>count</code> variable of a pre-aggregated input to <code>incidence</code> function.</li>
<li>Fixes axis labelling and spacing.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="incidence2-010">incidence2 0.1.0<a class="anchor" aria-label="anchor" href="#incidence2-010"></a></h2><p class="text-muted">CRAN release: 2020-09-07</p>
<ul><li>Initial release.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tim Taylor.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

