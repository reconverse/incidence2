<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Compute the incidence of events"><title>Compute the incidence of events — incidence • incidence2</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compute the incidence of events — incidence"><meta property="og:description" content="Compute the incidence of events"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">incidence2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.3.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Using the incidence2 package</h6>
    <a class="dropdown-item" href="../articles/Introduction.html">Introduction</a>
    <a class="dropdown-item" href="../articles/handling_incidence_objects.html">Handling incidence objects</a>
    <a class="dropdown-item" href="../articles/customizing_incidence_plots.html">Customizing incidence plots</a>
    <a class="dropdown-item" href="../articles/Alternative_date_groupings.html">Alternative date groupings</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/reconverse/incidence2">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Compute the incidence of events</h1>
      <small class="dont-index">Source: <a href="https://github.com/reconverse/incidence2/blob/HEAD/R/incidence.R" class="external-link"><code>R/incidence.R</code></a></small>
      <div class="d-none name"><code>incidence.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Compute the incidence of events</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">incidence</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">date_index</span>,</span>
<span>  groups <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interval <span class="op">=</span> <span class="fl">1L</span>,</span>
<span>  na_as_group <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  counts <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  firstdate <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A data frame representing a linelist (or potentially a
pre-aggregated dataset).</p></dd>


<dt>date_index</dt>
<dd><p>The time index(es) of the given data.  This should be the
name(s) corresponding to the desired date column(s) in x of class:
integer, numeric, Date, POSIXct, POSIXlt, and character. (See Note  about
<code>numeric</code> and <code>character</code> formats). Multiple inputs only make sense when
x is a linelist, and in this situation, to avoid ambiguity, the vector must
be named.  These names will be used for the resultant count columns.</p></dd>


<dt>groups</dt>
<dd><p>An optional vector giving the names of the groups of
observations for which incidence should be grouped.</p></dd>


<dt>interval</dt>
<dd><p>An integer or character indicating the (fixed) size of the
time interval used for computing the incidence; defaults to 1 day. This can
also be a text string that corresponds to a valid date interval, e.g.</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> (x) <span class="fu">day</span>(s)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> (x) <span class="fu">weeks</span>(s)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> (x) <span class="fu">epiweeks</span>(s)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> (x) <span class="fu">isoweeks</span>(s)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> (x) <span class="fu">months</span>(s)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> (x) <span class="fu">quarter</span>(s)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> (x) <span class="fu">years</span>(s)</span></code></pre><p></p></div>
<p>More details can be found in the "Interval specification" and "Week
intervals" sections below.</p></dd>


<dt>na_as_group</dt>
<dd><p>A logical value indicating if missing group values (NA)
should treated as a separate category (<code>TRUE</code>) or removed from
consideration (<code>FALSE</code>). Defaults to <code>TRUE</code>.</p></dd>


<dt>counts</dt>
<dd><p>The count variables of the given data.  If NULL (default) the
data is taken to be a linelist of individual observations.</p></dd>


<dt>firstdate</dt>
<dd><p>When the interval is numeric or in days/months and has a
numeric prefix greater than 1, then you can optionally specify the date
that you wish to anchor your intervals to begin from.  If NULL (default)
then the intervals will start at the minimum value contained in the
<code>date_index</code> column. Note that the class of <code>firstdate</code> must be <code>Date</code> if
the <code>date_index</code> column is Date, POSIXct, POSIXlt, or character and integer
otherwise.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>incidence2</code> object.  This is a subclass of
<code><a href="build_incidence.html">incidence_df</a></code> and aggregated count of observations
grouped according to the specified interval and, optionally, the given
groups.  By default it will contain the following columns:</p><ul><li><p><strong>date</strong> / <strong>date_index</strong>:  If the default interval of 1 day is used then
this will be the dates of the given observations and given the name
"date", otherwise, this will be values obtained from the specified date
grouping with column name "date_index" (See Interval specification below).</p></li>
<li><p><strong>groups</strong> (if specified): Column(s) containing the categories of the
given groups.</p></li>
<li><p><strong>count</strong> (or name of count variables): The aggregated observation counts.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    
<div class="section">
<h3 id="input-data-date-index-">Input data (<code>date_index</code>)<a class="anchor" aria-label="anchor" href="#input-data-date-index-"></a></h3>

<ul><li><p><strong>Decimal (numeric) dates</strong>: will be truncated.</p></li>
<li><p><strong>Character dates</strong> should be in the unambiguous <code>yyyy-mm-dd</code> (ISO 8601)
format. Any other format will trigger an error.</p></li>
</ul></div>

<div class="section">
<h3 id="interval-specification-interval-">Interval specification (<code>interval</code>)<a class="anchor" aria-label="anchor" href="#interval-specification-interval-"></a></h3>
<p><code>incidence()</code> uses the <a href="https://cran.r-project.org/package=grates" class="external-link"><code>grates</code></a>
package to generate date groupings. The grouping used depends on the value
of <code>interval</code>. This can be specified as either an integer value or a more
standard specification such as "day", "week", "month", "quarter" or "year".
The format in this situation is similar to that used by <code><a href="https://rdrr.io/r/base/seq.Date.html" class="external-link">seq.Date()</a></code>
where these values can optionally be preceded by a (positive or negative)
integer and a space, or followed by "s".  When no prefix is given:</p><ul><li><p>"week"    : uses the "grates_yearweek" class (see <code><a href="http://www.reconverse.org/grates/reference/as_yearweek.html" class="external-link">grates::as_yearweek()</a></code>).</p></li>
<li><p>"month"   : uses the "grates_month" class (see <code><a href="http://www.reconverse.org/grates/reference/as_month.html" class="external-link">grates::as_month()</a></code>).</p></li>
<li><p>"quarter" : uses the "grates_quarter" class (see <code><a href="http://www.reconverse.org/grates/reference/as_quarter.html" class="external-link">grates::as_quarter()</a></code>).</p></li>
<li><p>"year"    : uses the "grates_year" class (see <code><a href="http://www.reconverse.org/grates/reference/as_year.html" class="external-link">grates::as_year()</a></code>).</p></li>
</ul><p>When a prefix is provided (e.g. 2 weeks) the output is an object of class
"period" (see <code>as_period()</code>).  Note that for the values "month",
"quarter" and "year" intervals are always chosen to start at the beginning
of the calendar equivalent.  If the input is an integer value the input is
treated as if it was specified in days (i.e. 2 and 2 days) produce the
same output.</p>
<p>The only interval values that do not produce these grouped classes are 1,
1L, "day" or "days" (both without prefix) are used.  In this situation the
returned object is of the standard "Date" class.</p>
</div>

<div class="section">
<h3 id="week-intervals">Week intervals<a class="anchor" aria-label="anchor" href="#week-intervals"></a></h3>


<p>It is possible to construct incidence objects standardized to any day of the
week. The default state is to use ISO 8601 definition of weeks, which start
on Monday. You can specify the day of the week an incidence object should
be standardised to by using the pattern "n W weeks" where "W"
represents the weekday in an English or current locale and "n" represents
the duration, but this can be ommitted.  Below are examples of specifying
weeks starting on different days assuming we had data that started on
2016-09-05, which is ISO week 36 of 2016:</p><ul><li><p>interval = "2 monday weeks" (Monday 2016-09-05)</p></li>
<li><p>interval = "1 tue week" (Tuesday 2016-08-30)</p></li>
<li><p>interval = "1 Wed week" (Wednesday 2016-08-31)</p></li>
<li><p>interval = "1 Thursday week" (Thursday 2016-09-01)</p></li>
<li><p>interval = "1 F week" (Friday 2016-09-02)</p></li>
<li><p>interval = "1 Saturday week" (Saturday 2016-09-03)</p></li>
<li><p>interval = "Sunday week" (Sunday 2016-09-04)</p></li>
</ul><p>It's also possible to use something like "3 weeks: Saturday"; In addition,
there are keywords reserved for specific days of the week:</p><ul><li><p>interval = "week", (Default, Monday)</p></li>
<li><p>interval = "ISOweek"  (Monday)</p></li>
<li><p>interval = "EPIweek"  (Sunday)</p></li>
<li><p>interval = "MMWRweek" (Sunday)</p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"outbreaks"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/source.html" class="external-link">withAutoprint</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ebola_sim_clean</span>, package <span class="op">=</span> <span class="st">"outbreaks"</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">ebola_sim_clean</span><span class="op">$</span><span class="va">linelist</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># daily incidence</span></span></span>
<span class="r-in"><span>    <span class="fu">incidence</span><span class="op">(</span><span class="va">dat</span>, <span class="va">date_of_onset</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># weekly incidence</span></span></span>
<span class="r-in"><span>    <span class="fu">incidence</span><span class="op">(</span><span class="va">dat</span>, <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="st">"week"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># starting on a Monday</span></span></span>
<span class="r-in"><span>    <span class="fu">incidence</span><span class="op">(</span><span class="va">dat</span>, <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="st">"isoweek"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># starting on a Sunday</span></span></span>
<span class="r-in"><span>    <span class="fu">incidence</span><span class="op">(</span><span class="va">dat</span>, <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="st">"epiweek"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># group by gender</span></span></span>
<span class="r-in"><span>    <span class="fu">incidence</span><span class="op">(</span><span class="va">dat</span>, <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="fl">7</span>, groups <span class="op">=</span> <span class="va">gender</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="co"># group by gender and hospital</span></span></span>
<span class="r-in"><span>    <span class="fu">incidence</span><span class="op">(</span><span class="va">dat</span>, <span class="va">date_of_onset</span>, interval <span class="op">=</span> <span class="st">"2 weeks"</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">gender</span>, <span class="va">hospital</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; data(ebola_sim_clean, package = "outbreaks")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; dat &lt;- ebola_sim_clean$linelist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; incidence(dat, date_of_onset)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">An incidence object: 367 x 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> date range: [2014-04-07] to [2015-04-30]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cases: 5829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interval: 1 day</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cumulative: FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_index count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2014-04-07     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2014-04-15     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2014-04-21     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2014-04-25     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2014-04-26     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2014-04-27     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2014-05-01     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2014-05-03     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2014-05-04     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2014-05-05     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 357 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; incidence(dat, date_of_onset, interval = "week")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">An incidence object: 56 x 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> date range: [2014-W15] to [2015-W18]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cases: 5829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interval: 1 (Monday) week </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cumulative: FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_index count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>   2014-W15     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>   2014-W16     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>   2014-W17     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>   2014-W18     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>   2014-W19    12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>   2014-W20    17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>   2014-W21    15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>   2014-W22    19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>   2014-W23    23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>   2014-W24    21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 46 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; incidence(dat, date_of_onset, interval = "isoweek")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">An incidence object: 56 x 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> date range: [2014-W15] to [2015-W18]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cases: 5829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interval: 1 (Monday) week </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cumulative: FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_index count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>   2014-W15     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>   2014-W16     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>   2014-W17     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>   2014-W18     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>   2014-W19    12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>   2014-W20    17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>   2014-W21    15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>   2014-W22    19</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>   2014-W23    23</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>   2014-W24    21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 46 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; incidence(dat, date_of_onset, interval = "epiweek")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">An incidence object: 56 x 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> date range: [2014-W15] to [2015-W17]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cases: 5829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interval: 1 (Sunday) week </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cumulative: FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    date_index count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>   2014-W15     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>   2014-W16     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>   2014-W17     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>   2014-W18     4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>   2014-W19    12</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>   2014-W20    15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>   2014-W21    15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>   2014-W22    22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>   2014-W23    22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>   2014-W24    17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 46 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; incidence(dat, date_of_onset, interval = 7, groups = gender)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">An incidence object: 109 x 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> date range: [2014-04-07 to 2014-04-13] to [2015-04-27 to 2015-05-03]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cases: 5829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interval: 7 days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cumulative: FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  date_index gender count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;period&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2014-04-07 to 2014-04-13 f          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2014-04-14 to 2014-04-20 m          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2014-04-21 to 2014-04-27 f          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2014-04-21 to 2014-04-27 m          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2014-04-28 to 2014-05-04 f          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2014-05-05 to 2014-05-11 f          9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2014-05-05 to 2014-05-11 m          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2014-05-12 to 2014-05-18 f          7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2014-05-12 to 2014-05-18 m         10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2014-05-19 to 2014-05-25 f          8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 99 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &gt; incidence(dat, date_of_onset, interval = "2 weeks", groups = c(gender, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +     hospital))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">An incidence object: 316 x 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> date range: [2014-04-07 to 2014-04-20] to [2015-04-20 to 2015-05-03]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cases: 5829</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interval: 14 days</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cumulative: FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  date_index gender hospital                                count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;period&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                                   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 2014-04-07 to 2014-04-20 f      Military Hospital                           1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 2014-04-07 to 2014-04-20 m      Connaught Hospital                          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 2014-04-21 to 2014-05-04 f      <span style="color: #BB0000;">NA</span>                                          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 2014-04-21 to 2014-05-04 f      Connaught Hospital                          1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 2014-04-21 to 2014-05-04 f      other                                       2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 2014-04-21 to 2014-05-04 f      Princess Christian Maternity Hospital …     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 2014-04-21 to 2014-05-04 f      Rokupa Hospital                             1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 2014-04-21 to 2014-05-04 m      other                                       1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 2014-05-05 to 2014-05-18 f      <span style="color: #BB0000;">NA</span>                                          4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 2014-05-05 to 2014-05-18 f      Connaught Hospital                          3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 306 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use of first_date</span></span></span>
<span class="r-in"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>dates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">incidence</span><span class="op">(</span><span class="va">dat</span>, <span class="va">dates</span>, interval <span class="op">=</span> <span class="st">"week"</span>, firstdate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">An incidence object: 2 x 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> date range: [2022-W47] to [2022-W48]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cases: 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interval: 1 (Monday) week </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cumulative: FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   date_index count</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;yrwk&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>   2022-W47     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>   2022-W48     3</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Tim Taylor.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

